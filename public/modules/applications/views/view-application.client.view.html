<section data-ng-controller="ApplicationsController" data-ng-init="findOne()">
	<div class="page-header">
		<h1 data-ng-bind="application.name"></h1>
	</div>
	
	<div class="pull-right" data-ng-show="((authentication.user) && (authentication.user._id == application.user._id))">
		<a class="btn btn-primary" href="/#!/applications/{{application._id}}/edit">
			<i class="glyphicon glyphicon-edit"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="remove();">
			<i class="glyphicon glyphicon-trash"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="generate();">
			<i class="glyphicon glyphicon-download-alt"></i>
		</a>
	</div>
	
	<div>
		<h3>Modules</h3>
		<div class="panel panel-info"  ng-repeat="module in application.modules">
			<div class="panel-heading">
	        <h3 class="panel-title" id="panel-title">{{module}}<a class="anchorjs-link" href="#panel-title">
				<span class="anchorjs-icon"></span></a></h3>
	      </div>
		  <div class="panel-body">
			  <div ng-switch on="module">
			    <div ng-switch-when="bcard">
					<div data-ng-controller="BcardsController">
					    <div class="col-md-12">
					        <form class="form-horizontal" data-ng-submit="create()" data-ng-init="find()" novalidate>
					            <fieldset>
									
											<div class="panel panel-info"  ng-repeat="b in bacrds">
												{{b.name}}
											</div>
					                <div class="form-group">
					                    <label class="control-label" for="name">Name</label>
					                    <div class="controls">
					                        <input type="text" data-ng-model="bcard.name" id="name" class="form-control" placeholder="Name" required>
					                    </div>
										<div class="controls">
					                        <input type="text" data-ng-model="bcard.address" id="address" class="form-control" placeholder="address" required>
					                    </div>
										<div class="controls">
					                        <input type="text" data-ng-model="bcard.number" id="number" class="form-control" placeholder="number" required>
					                    </div>
										<div class="controls">
					                        <input type="text" data-ng-model="bcard.image" id="image" class="form-control" placeholder="image" required>
					                    </div>
										<div class="controls">
					                        <input type="text" data-ng-model="bcard.email" id="email" class="form-control" placeholder="email" required>
					                    </div>
					                </div>
					                <div class="form-group">
					                    <input type="submit" class="btn btn-default" value="Save">
					                </div>
									<div data-ng-show="error" class="text-danger">
										<strong data-ng-bind="error"></strong>
									</div>
									<div data-ng-show="status" class="text-success">
										<strong data-ng-bind="status"></strong>
									</div>
					            </fieldset>
					        </form>
					    </div>
					</div>
			    </div>
				
				<div ng-switch-when="news">
					<div data-ng-controller="NewsController" data-ng-init="find()">
						  <form class="form-horizontal" data-ng-submit="create()" novalidate>
					            <fieldset>
					                <div class="form-group">
					                    <label class="control-label" for="name">Title</label>
					                    <div class="controls">
					                        <input type="text" data-ng-model="name" id="name" class="form-control" placeholder="Name" required>
					                    </div>
					                </div>
									<div class="form-group">
					                    <label class="control-label" for="name">News Url</label>
					                    <div class="controls">
					                        <input type="text" data-ng-model="newsUrl" id="name" class="form-control" placeholder="Name" required>
					                    </div>
					                </div>
					                <div class="form-group">
					                    <input type="submit" class="btn btn-default">
					                </div>
									<div data-ng-show="error" class="text-danger">
										<strong data-ng-bind="error"></strong>
									</div>
									<div data-ng-show="status" class="text-success">
										<strong data-ng-bind="status"></strong>
									</div>
					            </fieldset>
					        </form>
					 
					    <div class="list-group">
					        <a data-ng-repeat="news in news" data-ng-href="#!/news/{{news._id}}" class="list-group-item">
								<small class="list-group-item-text">
									Posted on
									<span data-ng-bind="news.created | date:'medium'"></span>
									by
									<span data-ng-bind="news.user.displayName"></span>
								</small>
								<h4 class="list-group-item-heading" data-ng-bind="news.title"></h4>
					        </a>
					    </div>

					</div>
				</div>
				
			    <div ng-switch-default>
			          no additional config available
			    </div>
			</div>
	     
	      </div>
	</div>	
	</div>
	
	
	
	<br></br>
	<small>
		<em class="text-muted">
			Created
			<span data-ng-bind="application.created | date:'mediumDate'"></span>
			by
			<span data-ng-bind="application.user.displayName"></span>
		</em>
	</small>
</section>
